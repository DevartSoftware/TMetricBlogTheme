{"version":3,"sources":["custom.js","jquery.fitvids.js","gallery-card.js","scrollMenu.js","infinite-scroll.js"],"names":["showNavDrop","$","click","e","preventDefault","this","parent","hasClass","removeClass","children","window","width","slideUp","addClass","slideDown","attr","indexOf","document","bind","is","target","has","length","trigger","showMobileMenu","checkClass","setTimeout","showSidebarMenu","toggleClass","documentElement","body","animate","scrollTop","offset","top","slideToggle","checkSidebarScrollMenuHeight","sidebarScrollMenuHeight","sidebarBannerHeight","outerHeight","height","css","fn","fitVids","options","head","div","settings","customSelector","ignore","getElementById","getElementsByTagName","createElement","innerHTML","appendChild","childNodes","extend","each","selectors","push","ignoreList","$allVideos","find","join","not","aspectRatio","videoName","$this","parents","tagName","toLowerCase","isNaN","parseInt","_count","wrap","removeAttr","jQuery","Zepto","ready","checkHeadingScroll","show","hide","scroll","on","salesPopupShoved","anchorPos","topPos","windowHeight","$tmp","append","val","text","select","execCommand","remove","copySalesCode","copiedText","html","resize","addEventListener","querySelectorAll","forEach","image","container","closest","ratio","attributes","value","style","flex","parseMenuItemsFromContent","contentContainer","itemSelectors","menuItems","levelIds","index","itemElement","item","selector","reduce","result","level","id","prop","levelId","replace","slice","menuItem","initScrollMenu","menuContainer","menuAlwaysVisible","scrollDuration","scrollTopOffset","scrollBottomOffset","menuId","Date","now","Math","round","random","menuSelector","itemIds","isInScrollAnimation","updateMenuAndContent","activeItemId","itemId","itemSelector","isSelectedItem","scrollToItem","hash","promise","then","onScroll","event","windowScrollTop","viewportTop","viewportBottom","items","itemToActivate","map","sort","a","b","filter","nextItem","itemBottom","onMenuItemClick","location","menu","class","anchor","href","lastMenuItem","last","menuToAppend","nextElement","feedElement","buffer","ticking","loading","lastScrollY","lastWindowHeight","lastDocumentHeight","onPageLoad","status","removeEventListener","onResize","response","importNode","resNextElement","querySelector","scrollHeight","onUpdate","xhr","XMLHttpRequest","responseType","open","send","requestTick","requestAnimationFrame","scrollY","innerHeight","classList","contains","passive"],"mappings":"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","file":"casper.js","sourcesContent":["$(document).ready(function () {\n\n// Fixed header\n  checkHeadingScroll();\n  showNavDrop();\n  showMobileMenu();\n  showSidebarMenu();\n  checkSidebarScrollMenuHeight();\n\n  $(window).scroll(function () {\n    checkHeadingScroll();\n  });\n\n  function checkHeadingScroll() {\n    if ($(window).scrollTop() > 10) {\n      $('#gh-head').addClass('scrolled-down');\n    }\n    else {\n      $('#gh-head').removeClass('scrolled-down');\n    }\n\n    if ($(window).scrollTop() > 100) {\n      $('.btn-to-top').show();\n    }\n    else {\n      $('.btn-to-top').hide();\n    }\n  };\n\n  // Scroll to top button\n  $('.btn-to-top').click(function() {\n    $('html, body').animate({scrollTop: 0},500);\n  });\n});\n\n$(window).on('load', function(){\n\n  // Sales popup\n  let salesPopupShoved = false;\n\n  $(window).scroll(function () {\n    checkArticleScroll();\n  });\n\n  function checkArticleScroll() {\n    if(!($('.sales-anchor').length)) return;\n\n    let anchorPos = $('.sales-anchor').offset().top;\n    let topPos = $(window).scrollTop();\n    let windowHeight = $(window).height() / 2;\n\n    if (topPos + windowHeight > anchorPos && !salesPopupShoved) {\n      $('#sales-fader, .sales-popup, .discount-popup').addClass('visible');\n      salesPopupShoved = true;\n    }\n  }\n\n  $('#sales-fader, .btn-popup-close').click(function() {\n    $('#sales-fader, .sales-popup, .discount-popup').removeClass('visible');\n  });\n\n  // Copy sales code\n  function copySalesCode() {\n    let $tmp = $(\"<input>\");\n    $(\"body\").append($tmp);\n    $tmp.val($('#code-field').text()).select();\n    document.execCommand(\"copy\");\n    $tmp.remove();\n  }\n\n  $('.sales-popup .btn-copy').click(function() {\n    copySalesCode();\n    let copiedText = 'Copied: ' + $('#code-field').html();\n    $('.sales-popup .tooltip').html(copiedText);\n  });\n});\n\n// Show navigation dropdown\nfunction showNavDrop() {\n  $('#main-menu .parent > a').click(function(e) {\n    e.preventDefault();\n    if ($(this).parent('li').hasClass('drop-visible')) {\n      $(this).parent('li').removeClass('drop-visible');\n      $(this).parent('li').children('.drop').removeClass('visible');\n      $('#gh-head').removeClass('drop-visible');\n\n      if ($(window).width() < 1024) {\n        $(this).parent('li').children('.drop').slideUp();\n      }\n    } else {\n      if ($(window).width() < 1024) {\n        $('#main-menu .drop.visible').slideUp();\n      }\n      $('#main-menu .parent').removeClass('drop-visible');\n      $(this).parent('li').addClass('drop-visible');\n      $('#main-menu .drop').removeClass('visible');\n      $(this).parent('li').children('.drop').addClass('visible');\n      $('#gh-head').addClass('drop-visible');\n\n      if ($(window).width() < 1024) {\n        $(this).parent('li').children('.drop').slideDown();\n      }\n    };\n  });\n\n  $('#main-menu .drop a').click(function() {\n    if ($(this).attr(\"href\").indexOf(\"#\") + 1) {\n      $('#gh-head, #main-menu .parent').removeClass('drop-visible');\n      if ($(window).width() < 1024) {\n        $('#main-menu .drop.visible').slideUp();\n        $('.navbar-toggler-right').click();\n      }\n      $('#gh-head .drop').removeClass('visible');\n    }\n  });\n\n  $(document).bind( \"mouseup touchend\", function(e){\n    if (!$(\"#gh-head\").is(e.target) && $(\"#gh-head\").has(e.target).length === 0) {\n\n      if ($(window).width() >= 1024) {\n        $('#main-menu .parent').removeClass('drop-visible');\n        $('#main-menu .drop').removeClass('visible');\n        $('#gh-head').removeClass('drop-visible');\n      } else {\n        if ($('#gh-head').hasClass('mobile-menu-opened')) {\n          $('.navbar-toggler').trigger('click');\n        }\n      }\n    };\n  });\n}\n\n// Show mobile menu\nfunction showMobileMenu() {\n  $('#main-menu .tab-content .tab-pane:first-child').addClass('show active');\n  $('#main-menu .nav .nav-item:first-child .nav-link').addClass('active');\n\n  $('.navbar-toggler-right').click(function() {\n    if ($(window).width() < 1024) {\n      $('#main-menu .tab-content .tab-pane').removeClass('show active');\n      $('#main-menu .nav .nav-item .nav-link').removeClass('active');\n    }\n    setTimeout(checkClass,50);\n  });\n\n  function checkClass() {\n    if ($('.navbar-toggler-right').hasClass('collapsed')) {\n      $('header').removeClass('mobile-menu-opened drop-visible');\n      $('body').removeClass('mobile-menu-opened');\n    } else {\n      $('header').addClass('mobile-menu-opened');\n      $('body').addClass('mobile-menu-opened');\n    }\n  };\n\n  $('#main-menu .link-back').click(function() {\n    $('#main-menu .tab-content .tab-pane').removeClass('show active');\n    $('#main-menu .nav .nav-item .nav-link').removeClass('active');\n  });\n}\n\n$(window).resize(function() {\n  $('#main-menu .parent').removeClass('drop-visible').children('.drop').removeClass('visible');\n  $('#gh-head').removeClass('drop-visible');\n  $('#main-menu .drop').show();\n\n  $('body, #gh-head').removeClass('mobile-menu-opened');\n  $('.navbar-toggler').addClass('collapsed');\n  $('.navbar-collapse').removeClass('show');\n\n  $('#main-menu .tab-content .tab-pane').removeClass('show active');\n  $('#main-menu .nav .nav-item .nav-link').removeClass('active');\n\n  $('#main-menu .tab-content .tab-pane:first-child').addClass('show active');\n  $('#main-menu .nav .nav-item:first-child .nav-link').addClass('active');\n\n  if ($(window).width() < 1024) {\n    $('#main-menu .drop').hide();\n  }\n\n  checkSidebarScrollMenuHeight();\n});\n\nfunction showSidebarMenu() {\n  $('.mobile-menu-opener').click(function () {\n    if ($(window).width() <= 700) {\n      $('.sidebar').toggleClass('nav-visible');\n\n      if ($('.sidebar').hasClass('nav-visible')) {\n        $([document.documentElement, document.body]).animate({\n          scrollTop: $(\".sidebar\").offset().top - 35\n        }, 300);\n      }\n\n      $('.sidebar .sidebar-menu').slideToggle(300);\n    }\n  });\n}\n\nfunction checkSidebarScrollMenuHeight() {\n  if(!($('.scroll-menu-container .sidebar-menu-list').length)) return;\n\n  let sidebarBannerHeight = $('.sidebar-box.subscribe-box').outerHeight();\n  let windowHeight = $(window).height();\n  let sidebarScrollMenuHeight = windowHeight - sidebarBannerHeight - 96;\n\n  $('.scroll-menu-container .sidebar-menu-list').css('max-height', sidebarScrollMenuHeight + 'px');\n}\n","/*jshint browser:true */\n/*!\n* FitVids 1.3\n*\n*\n* Copyright 2017, Chris Coyier + Dave Rupert + Ghost Foundation\n* This is an unofficial release, ported by John O'Nolan\n* Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/\n* Released under the MIT license\n*\n*/\n\n;(function( $ ){\n\n  'use strict';\n\n  $.fn.fitVids = function( options ) {\n    var settings = {\n      customSelector: null,\n      ignore: null\n    };\n\n    if(!document.getElementById('fit-vids-style')) {\n      // appendStyles: https://github.com/toddmotto/fluidvids/blob/master/dist/fluidvids.js\n      var head = document.head || document.getElementsByTagName('head')[0];\n      var css = '.fluid-width-video-container{flex-grow: 1;width:100%;}.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}';\n      var div = document.createElement(\"div\");\n      div.innerHTML = '<p>x</p><style id=\"fit-vids-style\">' + css + '</style>';\n      head.appendChild(div.childNodes[1]);\n    }\n\n    if ( options ) {\n      $.extend( settings, options );\n    }\n\n    return this.each(function(){\n      var selectors = [\n        'iframe[src*=\"player.vimeo.com\"]',\n        'iframe[src*=\"youtube.com\"]',\n        'iframe[src*=\"youtube-nocookie.com\"]',\n        'iframe[src*=\"kickstarter.com\"][src*=\"video.html\"]',\n        'object',\n        'embed'\n      ];\n\n      if (settings.customSelector) {\n        selectors.push(settings.customSelector);\n      }\n\n      var ignoreList = '.fitvidsignore';\n\n      if(settings.ignore) {\n        ignoreList = ignoreList + ', ' + settings.ignore;\n      }\n\n      var $allVideos = $(this).find(selectors.join(','));\n      $allVideos = $allVideos.not('object object'); // SwfObj conflict patch\n      $allVideos = $allVideos.not(ignoreList); // Disable FitVids on this video.\n\n      $allVideos.each(function(){\n        var $this = $(this);\n        if($this.parents(ignoreList).length > 0) {\n          return; // Disable FitVids on this video.\n        }\n        if (this.tagName.toLowerCase() === 'embed' && $this.parent('object').length || $this.parent('.fluid-width-video-wrapper').length) { return; }\n        if ((!$this.css('height') && !$this.css('width')) && (isNaN($this.attr('height')) || isNaN($this.attr('width'))))\n        {\n          $this.attr('height', 9);\n          $this.attr('width', 16);\n        }\n        var height = ( this.tagName.toLowerCase() === 'object' || ($this.attr('height') && !isNaN(parseInt($this.attr('height'), 10))) ) ? parseInt($this.attr('height'), 10) : $this.height(),\n            width = !isNaN(parseInt($this.attr('width'), 10)) ? parseInt($this.attr('width'), 10) : $this.width(),\n            aspectRatio = height / width;\n        if(!$this.attr('name')){\n          var videoName = 'fitvid' + $.fn.fitVids._count;\n          $this.attr('name', videoName);\n          $.fn.fitVids._count++;\n        }\n        $this.wrap('<div class=\"fluid-width-video-container\"><div class=\"fluid-width-video-wrapper\"></div></div>').parent('.fluid-width-video-wrapper').css('padding-top', (aspectRatio * 100)+'%');\n        $this.removeAttr('height').removeAttr('width');\n      });\n    });\n  };\n\n  // Internal counter for unique video names.\n  $.fn.fitVids._count = 0;\n\n// Works with either jQuery or Zepto\n})( window.jQuery || window.Zepto );\n","/* eslint-env browser */\n\n/**\n * Gallery card support\n * Used on any individual post/page\n *\n * Detects when a gallery card has been used and applies sizing to make sure\n * the display matches what is seen in the editor.\n */\n\n(function (window, document) {\n    var resizeImagesInGalleries = function resizeImagesInGalleries() {\n        var images = document.querySelectorAll('.kg-gallery-image img');\n        images.forEach(function (image) {\n            var container = image.closest('.kg-gallery-image');\n            var width = image.attributes.width.value;\n            var height = image.attributes.height.value;\n            var ratio = width / height;\n            container.style.flex = ratio + ' 1 0%';\n        });\n    };\n\n    document.addEventListener('DOMContentLoaded', resizeImagesInGalleries);\n})(window, document);\n","function parseMenuItemsFromContent(options) {\n\n  var contentContainer = options.contentContainer || 'body';\n  var itemSelectors = options.itemSelectors || 'h2';\n  if (typeof itemSelectors == 'string') {\n    itemSelectors = [itemSelectors];\n  }\n\n  var menuItems = [];\n\n  var levelIds = [];\n\n  $(itemSelectors.join(','), $(contentContainer)).each(function (index, itemElement) {\n\n    var item = $(itemElement);\n\n    var selector = itemSelectors.reduce(function (result, selector, index) {\n      return result || (item.is(selector) ? selector : result);\n    }, null);\n    var level = itemSelectors.indexOf(selector);\n\n    var text = item.text();\n\n    var id = item.prop('id');\n    if (!id) {\n      var levelId = text.toLowerCase().replace(/ /g, '-').replace(/[^_\\w\\d-]/g, '_');\n      levelIds[level] = levelId;\n\n      id = levelIds.slice(0, level + 1).join('--');\n\n      item.prop('id', id);\n    }\n\n    var menuItem = {\n      id: id,\n      text: text,\n      level: level\n    };\n\n    menuItems.push(menuItem);\n\n  });\n\n  return menuItems;\n\n}\n\nfunction initScrollMenu(options) {\n\n  var menuContainer = options.menuContainer || 'body';\n  var menuItems = options.menuItems || [];\n\n  var menuAlwaysVisible = typeof options.menuAlwaysVisible == 'boolean' ? options.menuAlwaysVisible : true;\n  var scrollDuration = options.scrollDuration || 300;\n  var scrollTopOffset = options.scrollTopOffset || 0;\n  var scrollBottomOffset = options.scrollBottomOffset || 0;\n\n  var menuId = 'scroll-menu-' + Date.now() + '-' + Math.round(Math.random() * Date.now());\n  var menuSelector = '#' + menuId;\n  var itemIds = [];\n\n  var skipHandleIntersectAfterAfterHashChange = false;\n  var isInScrollAnimation = false;\n\n  function buildMenu() {\n\n    var menu = $('<ul></ul>').attr('data-menu-level', 0).prop({\n      'id': menuId,\n      'class': 'scroll-menu'\n    });\n\n    menu.toggleClass('visible', menuAlwaysVisible);\n    menu.toggleClass('hidden', !menuAlwaysVisible);\n\n    menuItems.forEach(function (item) {\n\n      var anchor = $('<a></a>', { href: '#' + item.id }).text(item.text);\n      var menuItem = $('<li></li>').append(anchor);\n\n      var lastMenuItem = $('li', menu).last();\n\n      // Check any items was added\n      if (lastMenuItem.length) {\n\n        // Find parent menu with item's level\n        var menuToAppend = $(lastMenuItem).parents('ul[data-menu-level=\"' + item.level + '\"]');\n\n        // If not found create new menu under last item\n        if (!menuToAppend.length) {\n          menuToAppend = $('<ul></ul>').attr('data-menu-level', item.level);\n          lastMenuItem.append(menuToAppend);\n        }\n\n        // Add item to menu with item's level\n        menuToAppend.append(menuItem);\n\n      } else {\n\n        // Add first item\n        menu.append(menuItem);\n      }\n\n      itemIds.push(item.id);\n\n    });\n\n    $(menuContainer).append(menu);\n\n  }\n\n  function updateMenuAndContent(activeItemId) {\n    $(itemIds).each(function (index, itemId) {\n      var itemSelector = '#' + itemId;\n      var isSelectedItem = itemId == activeItemId;\n      $(itemSelector).toggleClass('active', isSelectedItem);\n      $(menuSelector + ' li a[href=\"' + itemSelector + '\"]').closest('li').toggleClass('active', isSelectedItem);\n    });\n  }\n\n  function scrollToItem(hash) {\n\n    var item = $(hash);\n    if (!item.length) {\n      return;\n    }\n\n    isInScrollAnimation = true;\n\n    $('html, body').animate({\n      scrollTop: Math.round(item.offset().top - scrollTopOffset)\n    }, scrollDuration).promise().then(function () {\n\n      updateMenuAndContent(hash.replace('#', ''));\n\n      isInScrollAnimation = false;\n    });\n  }\n\n  function onScroll(event) {\n\n    // Skip scroll animation\n    if (isInScrollAnimation) {\n      return;\n    }\n\n    // Get viewport position\n    var windowScrollTop = $(window).scrollTop();\n    var windowHeight = $(window).height();\n    var viewportTop = Math.round(windowScrollTop);\n    var viewportBottom = Math.round(windowScrollTop + windowHeight);\n\n    // Get content item positions\n    var items = itemIds\n    .map(function (id) {\n\n      var top;\n\n      var item = $('#' + id);\n      if (item && item.length == 1) {\n        top = Math.round(item.offset().top);\n      }\n\n      return { id: id, top: top };\n    })\n    .sort(function (a, b) {\n      return a.top - b.top;\n    });\n\n    // Find item in viewport to activate\n    var itemToActivate = items.filter(function (item, index) {\n      var nextItem = items[index + 1];\n      var itemBottom = nextItem && nextItem.top || (viewportBottom - scrollBottomOffset);\n      return item.top < viewportBottom && itemBottom > (viewportTop + scrollTopOffset);\n    })[0];\n\n    var itemToActivateId = itemToActivate && itemToActivate.id;\n\n    // Update classes of menu items and corresponding content items\n    updateMenuAndContent(itemToActivateId);\n  }\n\n  function onMenuItemClick(event) {\n    if (!this.hash) {\n      return;\n    }\n\n    event.preventDefault();\n\n    var hash = this.hash;\n\n    scrollToItem(hash);\n\n    location.hash = hash;\n\n  }\n\n  $(document).ready(function () {\n\n    // Build menu\n    if (!menuItems.length) {\n      return;\n    }\n\n    buildMenu();\n\n    // Scroll to item with id from hash or sync menu with scroll position\n    if (location.hash) {\n      scrollToItem(location.hash);\n    } else {\n      onScroll();\n    }\n\n    // Set scroll and resize handler to sync menu with scroll position\n    $(document).on('scroll resize', onScroll);\n\n    // Set menu item click handler\n    $(itemIds).each(function (index, id) {\n      $('a[href=\"#' + id + '\"]').on('click', onMenuItemClick);\n    });\n\n    // Add hash change listener to update menu after navigation\n    $(window).on('hashchange', function (event) {\n\n      if (isInScrollAnimation) {\n        return;\n      }\n\n      skipHandleIntersectAfterAfterHashChange = true;\n\n      scrollToItem(location.hash);\n    });\n  });\n}\n","/* eslint-env browser */\n\n/**\n * Infinite Scroll\n * Used on all pages where there is a list of posts (homepage, tag index, etc).\n *\n * When the page is scrolled to 300px from the bottom, the next page of posts\n * is fetched by following the the <link rel=\"next\" href=\"...\"> that is output\n * by {{ghost_head}}.\n *\n * The individual post items are extracted from the fetched pages by looking for\n * a wrapper element with the class \"post-card\". Any found elements are appended\n * to the element with the class \"post-feed\" in the currently viewed page.\n */\n\n(function (window, document) {\n    if (document.documentElement.classList.contains('no-infinite-scroll')) return;\n\n    // next link element\n    var nextElement = document.querySelector('link[rel=next]');\n    if (!nextElement) {\n        return;\n    }\n\n    // post feed element\n    var feedElement = document.querySelector('.post-feed');\n    if (!feedElement) {\n        return;\n    }\n\n    var buffer = 300;\n\n    var ticking = false;\n    var loading = false;\n\n    var lastScrollY = window.scrollY;\n    var lastWindowHeight = window.innerHeight;\n    var lastDocumentHeight = document.documentElement.scrollHeight;\n\n    function onPageLoad() {\n        if (this.status === 404) {\n            window.removeEventListener('scroll', onScroll);\n            window.removeEventListener('resize', onResize);\n            return;\n        }\n\n        // append contents\n        var postElements = this.response.querySelectorAll('article.post-card');\n        postElements.forEach(function (item) {\n            // document.importNode is important, without it the item's owner\n            // document will be different which can break resizing of\n            // `object-fit: cover` images in Safari\n            feedElement.appendChild(document.importNode(item, true));\n        });\n\n        // set next link\n        var resNextElement = this.response.querySelector('link[rel=next]');\n        if (resNextElement) {\n            nextElement.href = resNextElement.href;\n        } else {\n            window.removeEventListener('scroll', onScroll);\n            window.removeEventListener('resize', onResize);\n        }\n\n        // sync status\n        lastDocumentHeight = document.documentElement.scrollHeight;\n        ticking = false;\n        loading = false;\n    }\n\n    function onUpdate() {\n        // return if already loading\n        if (loading) {\n            return;\n        }\n\n        // return if not scroll to the bottom\n        if (lastScrollY + lastWindowHeight <= lastDocumentHeight - buffer) {\n            ticking = false;\n            return;\n        }\n\n        loading = true;\n\n        var xhr = new window.XMLHttpRequest();\n        xhr.responseType = 'document';\n\n        xhr.addEventListener('load', onPageLoad);\n\n        xhr.open('GET', nextElement.href);\n        xhr.send(null);\n    }\n\n    function requestTick() {\n        ticking || window.requestAnimationFrame(onUpdate);\n        ticking = true;\n    }\n\n    function onScroll() {\n        lastScrollY = window.scrollY;\n        requestTick();\n    }\n\n    function onResize() {\n        lastWindowHeight = window.innerHeight;\n        lastDocumentHeight = document.documentElement.scrollHeight;\n        requestTick();\n    }\n\n    window.addEventListener('scroll', onScroll, {passive: true});\n    window.addEventListener('resize', onResize);\n\n    requestTick();\n})(window, document);\n"]}